<div style="padding: 50px;text-align: center">
    <h1 style="text-align: center;">课程表</h1>
    <br>

    <div class="layui-inline" id="ID-laydate-holidays" style="text-align: left"></div>

    <table class="layui-hide layui-table" id="course-table" lay-skin="nob"></table>

</div>
<script>
    layui.use(function () {
        var table = layui.table;
        var form = layui.form;
        var $ = layui.$;
        var laydate = layui.laydate;






        table.render({
            elem: '#course-table'
            , url: '../api/getCourseTable'
            , skin: 'row'
            , cols: [[
                {field: 'time', title: '时间'}
                , {
                    field: 'w1', title: '星期一', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w2', title: '星期二', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w3', title: '星期三', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w4', title: '星期四', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w5', title: '星期五', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w6', title: '星期六', templet: function (d) {
                        return ''
                    }
                }
                , {
                    field: 'w7', title: '星期日', templet: function (d) {
                        return ''
                    }
                }
            ]],
            done: function (res, curr, count) {
                //根据不同的数字，填充不同的颜色
                var data = res.data;
                for (var item in data) {
                    if (data[item].w1 === 1) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w2 === 1) {
                        $('td[data-field="w2"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w3 === 1) {
                        $('td[data-field="w3"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w4 === 1) {
                        $('td[data-field="w4"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w5 === 1) {
                        $('td[data-field="w5"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w6 === 1) {
                        $('td[data-field="w6"]').eq(item).css('background-color', '#009688');
                    }
                    if (data[item].w7 === 1) {
                        $('td[data-field="w7"]').eq(item).css('background-color', '#009688');
                    }
                    // 如果等于2 则填充#FFB800
                    if (data[item].w1 === 2) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w2 === 2) {
                        $('td[data-field="w2"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w3 === 2) {
                        $('td[data-field="w3"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w4 === 2) {
                        $('td[data-field="w4"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w5 === 2) {
                        $('td[data-field="w5"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w6 === 2) {
                        $('td[data-field="w6"]').eq(item).css('background-color', '#FFB800');
                    }
                    if (data[item].w7 === 2) {
                        $('td[data-field="w7"]').eq(item).css('background-color', '#FFB800');
                    }
                    // 如果等于3 则填充#FF5722
                    if (data[item].w1 === 3) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w2 === 3) {
                        $('td[data-field="w2"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w3 === 3) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w4 === 3) {
                        $('td[data-field="w2"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w5 === 3) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w6 === 3) {
                        $('td[data-field="w2"]').eq(item).css('background-color', '#FF5722');
                    }
                    if (data[item].w7 === 3) {
                        $('td[data-field="w1"]').eq(item).css('background-color', '#FF5722');
                    }


                }


            }
        });

        $.ajax ({
            url: './data/chinese-days.json',
            type: 'GET',
            success: function (res) {
                var holidays = res.holidays;
                var workdays = res.workdays;
                //holidays和workdays为字典 转为列表只需要键
                var holidaysList = Object.keys(holidays);
                var workdaysList = Object.keys(workdays);
                laydate.render({
                    elem: '#ID-laydate-holidays',
                    holidays: [ holidaysList,workdaysList],
                    // mark: {
                    //     '0-10-14': '生日',
                    //     '0-12-31': '跨年', //每年的日期
                    //     '0-0-10': '工资', //每月某天
                    //     '0-0-15': '月中',
                    //     '2017-8-15': '', //如果为空字符，则默认显示数字+徽章
                    //     '2099-10-14': '呵呵'
                    // },
                    //calendar: true,
                    position: 'static'
                });
            }
        });
    });
</script>